
- [x] change force of selectable entities to match the player
- [x] change visibility of rendering objects to the same force as the player
- [x] change visibility of highlight entities to a single player
- [x] switch to idle and back when player changes force
- [x] add player reach restriction
- [x] impl disabled custom drop vectors
- [x] impl only cardinal
- [x] impl only cardinal and diagonal
- [x] detect and support inserters with already longer base range than 1
- [x] support the technologies from bobinserters
  - [x] make inserter caches per force
- [x] don't do anything if the inserter doesn't support runtime changeable vectors
- [x] maybe add some animations
  - [x] happy little popup at both the pickup and drop positions (squares getting bigger and transparent)
  - [x] with it lines connecting the 2, and a circle on the inserter base itself
  - [x] do it in a way where there isn't any overlapping lines, so transparency doesn't screw us
  - [x] maybe fade the grid lines and background and the direction arrow in and out, very rapidly
  - [x] fade in for pickup highlight and line to said pickup highlight
- [x] maybe add very transparent white rendering in each tile that you can actually interact with
  - [x] generate vertices for a polygon and save it in cache, so the entire background is just 1 polygon
- [x] ~~speaking of, what if the entire grid was just a polygon that's cached~~
  - [x] see polygon-for-lines branch, the "lines" end up changing thickness inconsistently and disappear, while lines drawn using draw_line are consistent and have a minimal thickness of 1 pixel, even fully zoomed out
- [x] estimate inserter
- [x] update inserter speed text when pasting settings to an inserter
- [ ] maybe position the inserter speed text next to the square the ninth is in instead of directly next to the ninth. Should make comparing numbers easier
- [ ] maybe add white highlight box on the entity that would be targeted if the selected position were to be chosen (it's also the entity used for inserter throughput estimation)
- [ ] maybe add a tilde in front of the estimated speed, but only when the pickup target is a belt. Every other situation can have perfect accuracy
- [x] per player setting to disable inserter speed estimation entirely
- [x] per player setting to show estimated inserter throughput when hovering any inserter
- [x] ~~per player setting to always use auto drop offset, even when near inserters have been researched~~ see below
- [x] ~~shortcut to toggle near inserters, remove above setting~~ see below
- [x] per player setting to highlight default/auto drop offset, which uses a little blue selection box
- [x] per player setting to make Q pick cause newly placed inserters (ghost or alive) to have the same pickup and drop offsets
- [x] ~~highlight drop positions which would be the fastest for the entity under the currently selected drop target selection~~ Decided against this because with an inserter already placed, plus the pickup position already selected, the fastest drop position is incredibly obvious. And in cases where it isn't 100% obvious, moving the cursor between a few drop positions and looking at the estimated throughput speeds makes it clear as well. So ultimately this is not needed, and would be a lot of logic, plus a significant performance impact on_selected_entity_changed.
- [x] ~~add feature where you can place the inserter using this mods key bind and it will automatically uses the same pickup and drop vectors as the last modified inserter, if they have the same dimensions.~~ You wouldn't be able to click and drag with this, so no that's bad. Use bobinserters GUI for this, or just use blueprints and or copy paste.
- [x] add feature where using the key bind while holding an inserter in hand places it and instantly enters configuration mode
  - [x] upon entering, clear the cursor
  - [x] upon leaving, restore the cursor, if possible and if it didn't change through other means in the mean time
  - [x] setting to not restore cursor when leaving. Even though I believe there's little reason to disable this, by having that setting there mentioning that you can use the key bind to place an inserter it ultimately makes that feature more discoverable. That's a good enough reason to keep the setting.
  - [x] maybe place ghosts when the player cannot reach? That is if ghost support gets added.
  - [x] place ghosts if the cursor is a ghost, not an actual item
- [x] support ghosts, if possible (I think it is)
  - [x] support a ghost becoming real (reviving)
  - [x] support an entity becoming a ghost (dieing)
  - [x] if a ghost became real, do not stop adjusting because of being "out of range". Just pretend there was no range limitation until the player is done adjusting
- [x] support inserters of any size, and off grid
- [x] handle multiplayer
  - [x] switch to idle when leaving
  - [x] ignore interactions with entities that are placed for a different player
  - [x] prevent 2 players from interacting with the same inserter at the same time
  - [x] add force restriction
    - [x] update player state if an inserter changes force while being adjusted
  - [x] maybe add flying text when trying to adjust an inserter someone else is adjusting
- [x] update player state when the inserter gets rotated or teleported while being adjusted
- [x] update existing grids/arrows/invisible entities whenever tech level or inserter prototype changes
- [x] listen to destroy events to switch to idle as soon as possible
- [x] maybe continuously check if the target inserter is still valid, so if the entity disappears without an event, we still clean up reasonably soon.
- [x] maybe add a rendering circle on the inserter itself
- [x] maybe detect inserters that are by default diagonal and allow them to be diagonal first, then cardinal after research
- [x] maybe check if an inserter's default drop offset is far, center or near and use that information for auto determined drop positions. More exotic industries support, basically.
- [x] add locale for invisible entities
- [x] change all rendering to target a position, not the entity. That way being tick paused in the editor and having mods do weird stuff without raising an event doesn't make this mod look weird
- [x] add locale for the key bind/control
- [x] change default key sequence because it conflicts with bobinserters
  - [x] SHIFT + F conflicts with several search mods, however looking through all the key sequences I'd like to use, they all have conflicts so this is most likely one of the lesser evils
  - [ ] play test with it a bit
- [x] maybe make direction arrow a little transparent
- [x] change visualization when pickup has been selected
  - [x] draw square around it instead of a highlight box
  - [x] draw a line from the inserter to the pickup tile
- [x] slight indication for the 4 big rectangles around the grid which change direction
- [x] test if creating and deleting entities is faster than teleporting and changing force
  - [x] yes it is. With pooling hitting the key bind 3 times on an inserter takes 2.57 ms, without pooling it takes 1.7 ms
- [x] thumbnail
- [ ] readme/description
- [ ] tips and tricks simulations
- [x] don't restore when rotating and similar
- [x] ~~try using render_player_index for selectable entities. See if the selection box shows up for other players as well~~ Tried it, they are still selectable for other players, so this is not an option
- [ ] look into renai transportation and see if it needs special support just for fun
- [ ] wait, but why do we not get a selection changed event with selected being nil when we move the cursor off of a selectable entity from this mod and pressing the adjust key bind in the same tick, causing it to delete the previously selected entity?
- [ ] look into smart inserters and see how hard compatibility with that mod would be
- [x] change hard dependency on bobinserters to hidden optional (for mod load order)
- [x] add own technologies with the same names and own custom icons
  - [ ] revisit icons, probably using the inserter tech icon and adding something to it in gimp
  - [x] locale name and descriptions
- [x] add startup settings just like bobinserters, even with the same name, but only if they don't exist already
- [x] add logic in data updates and final fixes to enable runtime adjustable vectors
  - [x] remember which ones were touched in data updates and don't touch them again in final fixes
  - [x] ignore hidden inserters
- [x] maybe add startup setting to normalize pickup vectors, snapping them to tile centers
- [x] use "cardinal" instead of "perpendicular"
- [ ] maybe add remote interface and api
  - [ ] api file which checks for the existence remote interfaces containing a certain name, and calls all of them (that is to support for example smart inserters implementing the same interface, and being enabled at the same time)
    - [ ] put the MIT license directly in the api file so others can copy it into their code. This allows for mods to implement the interface and replace quick adjustable inserters entirely without other mods using the api to have to change anything. It would "just work"
  - [ ] change which technologies unlock what
  - [ ] add more or less range
  - [ ] trigger build & adjust
  - [x] trigger adjust key bind on a given entity
  - [x] trigger switch_to_idle (even though adjusting on a nil entity already does that)
  - [ ] trigger switch_to_idle_and_back
- [x] make all qai prefixes lowercase, outside of type names of course
- [x] maybe always script disable while adjusting
- [x] do not use rotate locale, just make your own for not being able to adjust enemy structures
- [ ] maybe add nothing technology effects/modifies with descriptions
- [x] or just add technology descriptions
- [x] use both the selection box and collision box to determine the size of the inserter
- [ ] auto detect more range technologies, simply by going sequentially (long-inserters-1, long-inserters-2, long-inserters-3, ...)
- [ ] map setting to "only allow mirrored". Select the pickup position, and the drop off position has to be in the tile on the opposite side, such that those 2 tiles are mirrored at the inserter's center
- [ ] improve rotation state tracking. I don't know why yet but when play testing there's several times where using place and adjust places the inserter in the wrong direction and I didn't do anything that I'd expect to actually cause that to happen, because I know it will happen sometimes no matter what. But yea, investigate this.
- [x] make sure every event checks valid. Like the selected changed event doesn't.
- [x] LuaForce valid checking
